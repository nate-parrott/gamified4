{"version":3,"file":"component---src-pages-lounge-tsx-79bb61653e89d76b47ad.js","mappings":"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","sources":["webpack://my-gatsby-site/./src/components/AspectFill.tsx","webpack://my-gatsby-site/./src/pages/lounge.tsx"],"sourcesContent":["import React, { ReactNode, useEffect, useRef, useState } from \"react\";\n\ninterface AspectFillProps {\n  children: ReactNode;\n  childWidth: number;\n  childHeight: number;\n  style?: React.CSSProperties;\n}\n\n/**\n * AspectFill component that scales a child component to fill the available space\n * while maintaining its aspect ratio.\n * \n * @param children - The child component to be displayed\n * @param childWidth - The intrinsic width of the child content\n * @param childHeight - The intrinsic height of the child content\n * @param style - Optional CSS styles to apply to the container\n */\nconst AspectFill: React.FC<AspectFillProps> = ({\n  children,\n  childWidth,\n  childHeight,\n  style = {},\n}) => {\n  const containerRef = useRef<HTMLDivElement>(null);\n  const [scale, setScale] = useState(1);\n  const [containerWidth, setContainerWidth] = useState(0);\n  const [containerHeight, setContainerHeight] = useState(0);\n\n  const updateScale = () => {\n    if (!containerRef.current) return;\n    \n    const container = containerRef.current;\n    const containerRect = container.getBoundingClientRect();\n    \n    const newContainerWidth = containerRect.width;\n    const newContainerHeight = containerRect.height;\n    \n    // Only update if dimensions have changed\n    if (newContainerWidth !== containerWidth || newContainerHeight !== containerHeight) {\n      setContainerWidth(newContainerWidth);\n      setContainerHeight(newContainerHeight);\n      \n      // Calculate scale factors for width and height\n      const widthScale = newContainerWidth / childWidth;\n      const heightScale = newContainerHeight / childHeight;\n      \n      // Use the larger scale to ensure the content fills the container\n      const newScale = Math.max(widthScale, heightScale);\n      setScale(newScale);\n    }\n  };\n\n  useEffect(() => {\n    // Initial scale calculation\n    updateScale();\n    \n    // Set up resize observer for more precise container size changes\n    const resizeObserver = new ResizeObserver(() => {\n      updateScale();\n    });\n    \n    if (containerRef.current) {\n      resizeObserver.observe(containerRef.current);\n    }\n    \n    // Also listen to window resize events as a fallback\n    window.addEventListener(\"resize\", updateScale);\n    \n    return () => {\n      // Clean up\n      resizeObserver.disconnect();\n      window.removeEventListener(\"resize\", updateScale);\n    };\n  }, [childWidth, childHeight]);\n\n  return (\n    <div\n      ref={containerRef}\n      style={{\n        overflow: \"hidden\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        ...style,\n      }}\n    >\n      <div\n        style={{\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: `translate(-50%, -50%) scale(${scale})`,\n          transformOrigin: \"center center\",\n          width: childWidth,\n          height: childHeight,\n          willChange: \"transform\",\n        }}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n\nexport default AspectFill;","import * as React from \"react\"\nimport { HeadFC, PageProps } from \"gatsby\"\nimport AspectFill from \"../components/AspectFill\";\nimport { withPrefix } from \"../components/utils\";\nimport { isSafari } from \"react-device-detect\";\n\n/**\n * Helper function to safely use speech synthesis\n * @param text - The text to speak \n * @param onSpeechEnd - Callback for when speech ends or fails\n */\nconst speakText = (text: string, onSpeechEnd: () => void) => {\n  if (!window.speechSynthesis) {\n    console.log(\"Speech synthesis not available\");\n    onSpeechEnd();\n    return;\n  }\n  \n  try {\n    // Cancel any ongoing speech\n    window.speechSynthesis.cancel();\n    \n    const utterance = new SpeechSynthesisUtterance(text);\n    \n    // Handle speech end\n    utterance.onend = () => {\n      console.log(\"Speech synthesis completed\");\n      onSpeechEnd();\n    };\n    \n    // Handle speech errors\n    utterance.onerror = (event) => {\n      console.error(\"Speech synthesis error:\", event);\n      onSpeechEnd();\n    };\n    \n    // For iOS, we need to ensure this happens in response to user interaction\n    setTimeout(() => {\n      window.speechSynthesis.speak(utterance);\n      \n      // Add a safety timeout in case onend doesn't fire\n      setTimeout(() => {\n        if (window.speechSynthesis.speaking) {\n          console.log(\"Speech synthesis safety timeout triggered\");\n          onSpeechEnd();\n        }\n      }, 5000);\n    }, 100);\n  } catch (error) {\n    console.error(\"Speech synthesis exception:\", error);\n    onSpeechEnd();\n  }\n};\n\n/*\nffmpeg -i Video.mp4 -vf 'colorkey=0x00FF1C:similarity=0.2:blend=0.3' -c copy -c:v vp9 -f webm hello.webm\n\n\n# WebM for Chrome\nffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.3:blend=0.2,scale=900:-1\" -c:v vp9 -b:v 800k -crf 31 -deadline good hello.webm\n\n\n\n\n// ffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.4:blend=0.2,scale=900:-1\" -c:v qtrle -c:a aac -b:a 128k hello.mov\n\n// ffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.3:blend=0.2,scale=900:-1\" -c:v hevc -tag:v hvc1 -pix_fmt yuva420p -crf 23 -c:a aac -b:a 128k hello.mp4\n\n// ffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.3:blend=0.2,format=yuva420p,scale=900:-1\" -c:v hevc -tag:v hvc1 -pix_fmt yuva420p -crf 23 -c:a aac -b:a 128k hello.mp4\n\n\n// ffmpeg -framerate 25 -i unscreen-%3d.png -c:v prores_ks -pix_fmt yuva444p10le -alpha_bits 16 -profile:v 4444 -f mov -vframes 150 output.mov\n\n\nffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.3:blend=0.2,format=yuva420p,scale=900\n\nPRORES:\nffmpeg -i Video.mp4 -vf \"colorkey=0x00FF1C:similarity=0.3:blend=0.2,scale=900:-1\" -c:v prores_ks -profile:v 4444 -alpha_bits 16 -c:a aac -b:a 128k hello.mov\n\nhttps://css-tricks.com/overlaying-video-with-transparency-while-wrangling-cross-browser-support/\n\nVideo is 900x496\n*/\n\n/**\n * VideoInterstitial component for loading screen and start button\n */\nconst VideoInterstitial = ({ isLoading, onStart }: { isLoading: boolean; onStart: () => void }) => {\n  return (\n    <div style={{\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: \"black\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      zIndex: 100\n    }}>\n      {isLoading ? (\n        <div style={{\n          color: \"white\",\n          fontSize: \"24px\",\n          fontFamily: \"Arial, sans-serif\",\n          textAlign: \"center\",\n          padding: \"20px\"\n        }}>\n          One moment...\n        </div>\n      ) : (\n        <button \n          onClick={onStart}\n          style={{\n            background: \"none\",\n            color: \"white\",\n            padding: \"15px 30px\",\n            fontSize: \"20px\",\n            fontFamily: \"Helvetica, Arial, sans-serif\",\n            cursor: \"pointer\",\n            border: 'none',\n            transition: \"all 0.3s ease\"\n          }}\n          onMouseOver={(e) => {\n            e.currentTarget.style.backgroundColor = \"rgba(255, 255, 255, 0.2)\";\n          }}\n          onMouseOut={(e) => {\n            e.currentTarget.style.backgroundColor = \"transparent\";\n          }}\n        >\n          Tap to Start\n        </button>\n      )}\n    </div>\n  );\n};\n\nconst Artboard = ({ videoRef }: { videoRef: React.RefObject<HTMLVideoElement> }) => {\n  /*\n  - 14.5 seconds: pause to alert \"What's your name?\"\n  - 17 seconds: pause video, use speech synth to read user's name, then resume video\n  */\n  \n  const videoUrl = isSafari ? withPrefix('/hello.mov') : withPrefix('/hello.webm');\n  return (\n    <div style={{background: \"rgba(223, 196, 138, 1)\", width: \"574px\", height: \"447px\", overflow: \"hidden\", position: \"relative\"}}>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/vw57lq4GUHYAAAAC/starry-night-van-gogh.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"84px\", height: \"111px\", left: \"176px\", top: \"111px\", position: \"absolute\"}}></div>\n      <div onClick={() => window.close()} style={{backgroundImage: \"url(https://media.tenor.com/0FujksGZiAUAAAAi/exit.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"55px\", height: \"67px\", left: \"380px\", top: \"0px\", position: \"absolute\", transform: \"scaleX(1)\"}}></div>\n      <div style={{backgroundColor: \"rgba(234, 208, 154, 1)\", width: \"600px\", height: \"123px\", left: \"-1px\", top: \"335px\", position: \"absolute\"}}>\n        <div style={{backgroundImage: \"url(https://rmmhpcnrqakmcbvlcerx.supabase.co/storage/v1/object/sign/doc_uploads/920c01fb-b57c-4517-a9bd-14591cb14145/0c0736e4-501d-49e6-88bb-bfadb72ca67f?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJkb2NfdXBsb2Fkcy85MjBjMDFmYi1iNTdjLTQ1MTctYTliZC0xNDU5MWNiMTQxNDUvMGMwNzM2ZTQtNTAxZC00OWU2LTg4YmItYmZhZGI3MmNhNjdmIiwiaWF0IjoxNzQxNDEyMTczLCJleHAiOjMzMTgyMTIxNzN9.EjFV5A1AjeyBex1DSR5zoki-wFloY1yqqL3_Me8ofKY)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"457px\", height: \"79px\", left: \"72px\", top: \"14px\", position: \"absolute\"}}></div>\n        <div style={{backgroundColor: \"rgba(40, 37, 37, 1)\", opacity: \"0.3\", borderRadius: \"41px\", width: \"30px\", height: \"27px\", left: \"44.40402178863505px\", top: \"66.31684783911449px\", position: \"absolute\", transform: \"skewX(0deg)\", filter: \"blur(5px)\"}}></div>\n        <div style={{backgroundColor: \"rgba(40, 37, 37, 1)\", opacity: \"0.3\", width: \"105px\", height: \"19px\", left: \"481px\", top: \"8px\", position: \"absolute\", transform: \"skewX(50deg)\", filter: \"blur(5px)\"}}></div>\n      </div>\n      <div style={{backgroundImage: \"url(https://rmmhpcnrqakmcbvlcerx.supabase.co/storage/v1/object/sign/doc_uploads/920c01fb-b57c-4517-a9bd-14591cb14145/3dd7da4e-02fa-4485-aa88-478dc51b41a5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJkb2NfdXBsb2Fkcy85MjBjMDFmYi1iNTdjLTQ1MTctYTliZC0xNDU5MWNiMTQxNDUvM2RkN2RhNGUtMDJmYS00NDg1LWFhODgtNDc4ZGM1MWI0MWE1IiwiaWF0IjoxNzQxNDEyMDk4LCJleHAiOjMzMTgyMTIwOTh9.lf1N24qUhMhOTBJYbC7HvgE9OiPykIw3quqHow8sBQo)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"305px\", height: \"169px\", left: \"142px\", top: \"209px\", position: \"absolute\"}}></div>\n      <div style={{backgroundColor: \"rgba(199, 174, 121, 1)\", width: \"140px\", height: \"445px\", left: \"0px\", top: \"-75px\", position: \"absolute\", transform: \"skewY(-27deg) scaleX(1)\"}}>\n        <div style={{backgroundImage: \"url(https://media.tenor.com/DV32ZhtLF7AAAAAC/sunset-sea.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"83px\", height: \"83px\", left: \"34px\", top: \"222px\", position: \"absolute\"}}></div>\n        <div style={{backgroundImage: \"url(https://media.tenor.com/cuJtfi_fR1AAAAAi/open-fenster.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"99px\", height: \"110px\", left: \"21px\", top: \"199px\", position: \"absolute\"}}></div>\n      </div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/w1BzPdKY2_sAAAAi/manidhaya.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"96px\", height: \"166px\", left: \"36.21580372877804px\", top: \"-25.900648891607347px\", position: \"absolute\"}}></div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/2f3vrmeHoE4AAAAi/fridge.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"136px\", height: \"214px\", left: \"452.86350031687596px\", top: \"143.76642811874854px\", position: \"absolute\"}}></div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/JBNC7IW_-1sAAAAi/groupgreeting-stickers-gg-stickers.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"99px\", height: \"123px\", left: \"169px\", top: \"105px\", position: \"absolute\"}}></div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/29mROjd-PXoAAAAi/moontrip.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"94px\", height: \"122px\", left: \"367px\", top: \"102px\", position: \"absolute\"}}></div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/OOH12fSHuREAAAAi/plant-plants.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"104px\", height: \"142px\", left: \"527.46330227795px\", top: \"333.0761355603127px\", position: \"absolute\"}}></div>\n      <div style={{backgroundImage: \"url(https://media.tenor.com/OOH12fSHuREAAAAi/plant-plants.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"104px\", height: \"142px\", left: \"12.297678445192027px\", top: \"288px\", position: \"absolute\"}}></div>\n      {/* <div style={{backgroundImage: \"url(https://rmmhpcnrqakmcbvlcerx.supabase.co/storage/v1/object/sign/doc_uploads/920c01fb-b57c-4517-a9bd-14591cb14145/71c7db71-a4eb-43dd-9e2f-c371cdffc3f4?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJkb2NfdXBsb2Fkcy85MjBjMDFmYi1iNTdjLTQ1MTctYTliZC0xNDU5MWNiMTQxNDUvNzFjN2RiNzEtYTRlYi00M2RkLTllMmYtYzM3MWNkZmZjM2Y0IiwiaWF0IjoxNzQxNDExODg5LCJleHAiOjMzMTgyMTE4ODl9.G6Wvau-pnFm04r6k4nF_gShAkb0-Es8SMTjBj0oYn8w)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"247px\", height: \"286px\", left: \"183.23357188125146px\", top: \"163.62784673121655px\", position: \"absolute\"}}></div> */}\n      <div style={{backgroundImage: \"url(https://media.tenor.com/Cvo4AhntshAAAAAi/sabrina-carpenter-lights.gif)\", backgroundSize: \"cover\", backgroundPosition: \"center\", width: \"144px\", height: \"150px\", left: \"228.78159423979906px\", top: \"-51.094934787072994px\", position: \"absolute\"}}></div>\n      <video \n        ref={videoRef}\n        width=\"900\" \n        playsInline \n        muted // Initially muted, unmuted when started\n        preload=\"auto\"\n        onLoadedData={() => {\n          console.log(\"Video loaded data event triggered\");\n          // This will be handled at the parent component level\n          if (typeof window !== 'undefined') {\n            document.dispatchEvent(new Event('videoLoaded'));\n          }\n        }}\n        // Add multiple event handlers for different loading stages\n        onLoadStart={() => console.log(\"Video load started\")}\n        onCanPlay={() => {\n          console.log(\"Video can play event triggered\");\n          // Also mark as loaded on canplay event\n          if (typeof window !== 'undefined') {\n            document.dispatchEvent(new Event('videoLoaded'));\n          }\n        }}\n        onError={(e) => console.error(\"Video loading error:\", e)}\n        src={videoUrl} \n        style={{width: \"600px\", height: \"350px\", left: \"0\", top: \"80px\", position: \"absolute\"}} \n      />\n    </div>\n  );\n};\n\n\nconst pageStyles = {\n  width: '100%',\n  height: '100vh'\n}\n\nconst ExclusiveLoungeModal: React.FC<PageProps> = () => {\n  const videoRef = React.useRef<HTMLVideoElement>(null);\n  const [videoLoaded, setVideoLoaded] = React.useState(false);\n  const [videoStarted, setVideoStarted] = React.useState(false);\n  const userNameRef = React.useRef(\"\");\n  \n  // Use refs instead of state for tracking one-time events\n  const askedForNameRef = React.useRef(false);\n  const spokeNameRef = React.useRef(false);\n  \n  // Add event listener for video loaded event\n  React.useEffect(() => {\n    const handleVideoLoadedEvent = () => {\n      setVideoLoaded(true);\n    };\n    \n    if (typeof window !== 'undefined') {\n      document.addEventListener('videoLoaded', handleVideoLoadedEvent);\n      \n      // Clean up event listener on component unmount\n      return () => {\n        document.removeEventListener('videoLoaded', handleVideoLoadedEvent);\n      };\n    }\n  }, []);\n  \n  // Handle time-based events in the video\n  React.useEffect(() => {\n    if (!videoStarted || !videoRef.current) return;\n    \n    console.log(\"Setting up video time-based event handlers\");\n    \n    // Create timeupdate event listener for the video\n    const handleTimeUpdate = () => {\n      const currentTime = videoRef.current?.currentTime || 0;\n\n      const DEBUG = false;\n      const namePromptTime = DEBUG ? 2 : 14.5;\n      const nameSpeechTime = DEBUG ? 4 : 17;\n      \n      // At 14.5 seconds, show the name prompt using alert\n      if (currentTime >= namePromptTime && currentTime < namePromptTime + 0.5 && !askedForNameRef.current) {\n        console.log(\"Triggering name prompt at time:\", currentTime);\n        videoRef.current?.pause();\n        askedForNameRef.current = true;\n        \n        // Use browser alert to get name\n        const name = window.prompt(\"What's your name?\", \"\");\n        console.log(\"User entered name:\", name || \"(empty)\");\n        userNameRef.current = name || \"\";\n        \n        // Resume video after getting name\n        if (videoRef.current) {\n          videoRef.current.play();\n        }\n      }\n      \n      // At 17 seconds, speak the name and pause temporarily\n      if (currentTime >= nameSpeechTime && currentTime < nameSpeechTime + 0.5) {\n        console.log(\"Name speech time\")\n      }\n      if (currentTime >= nameSpeechTime && currentTime < nameSpeechTime + 0.5 && userNameRef.current !== \"\" && !spokeNameRef.current) {\n        console.log(\"Triggering name speech at time:\", currentTime);\n        spokeNameRef.current = true;\n        videoRef.current?.pause();\n        \n        // Use our helper function to speak the name\n        speakText(userNameRef.current, () => {\n          console.log(\"Speech completed or failed, resuming video\");\n          if (videoRef.current) {\n            videoRef.current.play();\n          }\n        });\n      }\n    };\n    \n    const videoElement = videoRef.current;\n    videoElement.addEventListener('timeupdate', handleTimeUpdate);\n    \n    return () => {\n      console.log(\"Cleaning up video time-based event handlers\");\n      videoElement.removeEventListener('timeupdate', handleTimeUpdate);\n    };\n  }, [videoStarted, videoRef, userNameRef]);\n  \n  // Handle start button click - starts video with sound\n  const handleStartVideo = () => {\n    if (videoRef.current) {\n      videoRef.current.muted = false; // Enable sound\n      videoRef.current.currentTime = 0; // Reset to beginning\n      videoRef.current.play(); // Start playing\n      setVideoStarted(true);\n    }\n  };\n\n  return (\n    <main style={pageStyles}>\n      <AspectFill childWidth={574} childHeight={445} style={{width: '100%', height: '100%'}}>\n        <div style={{ position: 'relative', width: '100%', height: '100%' }}>\n          <Artboard videoRef={videoRef} />\n          {/* Show interstitial only when video hasn't started */}\n          {!videoStarted && (\n            <VideoInterstitial \n              isLoading={!videoLoaded} \n              onStart={handleStartVideo} \n            />\n          )}\n        </div>\n      </AspectFill>\n    </main>\n  )\n}\n\nexport default ExclusiveLoungeModal\n\nexport const Head: HeadFC = () => <title>Exclusive Lounge</title>"],"names":["_ref","children","childWidth","childHeight","style","containerRef","useRef","scale","setScale","useState","containerWidth","setContainerWidth","containerHeight","setContainerHeight","updateScale","current","containerRect","getBoundingClientRect","newContainerWidth","width","newContainerHeight","height","widthScale","heightScale","newScale","Math","max","useEffect","resizeObserver","ResizeObserver","observe","window","addEventListener","disconnect","removeEventListener","React","ref","overflow","position","boxSizing","top","left","transform","transformOrigin","willChange","VideoInterstitial","isLoading","onStart","backgroundColor","display","flexDirection","justifyContent","alignItems","zIndex","color","fontSize","fontFamily","textAlign","padding","onClick","background","cursor","border","transition","onMouseOver","e","currentTarget","onMouseOut","Artboard","_ref2","videoRef","videoUrl","isSafari","withPrefix","backgroundImage","backgroundSize","backgroundPosition","close","opacity","borderRadius","filter","playsInline","muted","preload","onLoadedData","console","log","document","dispatchEvent","Event","onLoadStart","onCanPlay","onError","error","src","pageStyles","ExclusiveLoungeModal","videoLoaded","setVideoLoaded","videoStarted","setVideoStarted","userNameRef","askedForNameRef","spokeNameRef","handleVideoLoadedEvent","handleTimeUpdate","currentTime","_videoRef$current","namePromptTime","_videoRef$current2","pause","name","prompt","play","nameSpeechTime","_videoRef$current3","speakText","text","onSpeechEnd","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","onend","onerror","event","setTimeout","speak","speaking","videoElement","AspectFill","handleStartVideo","Head"],"sourceRoot":""}