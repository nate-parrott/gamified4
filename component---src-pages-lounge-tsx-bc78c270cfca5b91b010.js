"use strict";(self.webpackChunkmy_gatsby_site=self.webpackChunkmy_gatsby_site||[]).push([[55],{5596:function(e,t,n){n.d(t,{$6:function(){return a},FH:function(){return l},TV:function(){return c},Vj:function(){return r},a2:function(){return s},aT:function(){return d},dq:function(){return i}});var o=n(5785);n(7294);const i=n(1562).dq;function r(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n}function a(e){return 0===e.length?null:e[Math.random()*e.length|0]}function c(e){var t,n,o;for(o=e.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),n=e[o],e[o]=e[t],e[t]=n;return e}function s(e,t,n,o,i){return o+(e-t)*(i-o)/(n-t)}function d(e){if(0===e.length)return 0;const t=new Map;for(const n of e){const e=t.get(n)||0;t.set(n,e+1)}return Math.max.apply(Math,(0,o.Z)(t.values()))}function l(e){"visible"===document.visibilityState?e():document.addEventListener("visibilitychange",(function t(){"visible"===document.visibilityState&&(e(),document.removeEventListener("visibilitychange",t))}))}},733:function(e,t,n){n.r(t),n.d(t,{Head:function(){return l},default:function(){return d}});var o=n(7294);var i=e=>{let{children:t,childWidth:n,childHeight:i,style:r={}}=e;const a=(0,o.useRef)(null),{0:c,1:s}=(0,o.useState)(1),{0:d,1:l}=(0,o.useState)(0),{0:u,1:p}=(0,o.useState)(0),g=()=>{if(!a.current)return;const e=a.current.getBoundingClientRect(),t=e.width,o=e.height;if(t!==d||o!==u){l(t),p(o);const e=t/n,r=o/i,a=Math.max(e,r);s(a)}};return(0,o.useEffect)((()=>{g();const e=new ResizeObserver((()=>{g()}));return a.current&&e.observe(a.current),window.addEventListener("resize",g),()=>{e.disconnect(),window.removeEventListener("resize",g)}}),[n,i]),o.createElement("div",{ref:a,style:{overflow:"hidden",position:"relative",width:"100%",height:"100%",boxSizing:"border-box",...r}},o.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:`translate(-50%, -50%) scale(${c})`,transformOrigin:"center center",width:n,height:i,willChange:"transform"}},t))},r=n(5596);const a=e=>{let{isLoading:t,onStart:n}=e;return o.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:100}},t?o.createElement("div",{style:{color:"white",fontSize:"24px",fontFamily:"Arial, sans-serif",textAlign:"center",padding:"20px"}},"One moment..."):o.createElement("button",{onClick:n,style:{background:"none",color:"white",padding:"15px 30px",fontSize:"20px",fontFamily:"Helvetica, Arial, sans-serif",cursor:"pointer",border:"none",transition:"all 0.3s ease"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"}},"Enter Lounge"))};const c=e=>{let{videoRef:t}=e;const n="undefined"!=typeof window&&window.navigator.userAgent.includes("Safari")?(0,r.dq)("/hello.mov"):(0,r.dq)("/hello.webm");return o.createElement("div",{style:{background:"rgba(223, 196, 138, 1)",width:"574px",height:"447px",overflow:"hidden",position:"relative"}},o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/vw57lq4GUHYAAAAC/starry-night-van-gogh.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"84px",height:"111px",left:"176px",top:"111px",position:"absolute"}}),o.createElement("div",{onClick:()=>window.close(),style:{backgroundImage:"url(https://media.tenor.com/0FujksGZiAUAAAAi/exit.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"55px",height:"67px",left:"380px",top:"0px",position:"absolute",transform:"scaleX(1)"}}),o.createElement("div",{style:{backgroundColor:"rgba(234, 208, 154, 1)",width:"600px",height:"123px",left:"-1px",top:"335px",position:"absolute"}},o.createElement("div",{style:{backgroundImage:"url(https://rmmhpcnrqakmcbvlcerx.supabase.co/storage/v1/object/sign/doc_uploads/920c01fb-b57c-4517-a9bd-14591cb14145/0c0736e4-501d-49e6-88bb-bfadb72ca67f?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJkb2NfdXBsb2Fkcy85MjBjMDFmYi1iNTdjLTQ1MTctYTliZC0xNDU5MWNiMTQxNDUvMGMwNzM2ZTQtNTAxZC00OWU2LTg4YmItYmZhZGI3MmNhNjdmIiwiaWF0IjoxNzQxNDEyMTczLCJleHAiOjMzMTgyMTIxNzN9.EjFV5A1AjeyBex1DSR5zoki-wFloY1yqqL3_Me8ofKY)",backgroundSize:"cover",backgroundPosition:"center",width:"457px",height:"79px",left:"72px",top:"14px",position:"absolute"}}),o.createElement("div",{style:{backgroundColor:"rgba(40, 37, 37, 1)",opacity:"0.3",borderRadius:"41px",width:"30px",height:"27px",left:"44.40402178863505px",top:"66.31684783911449px",position:"absolute",transform:"skewX(0deg)",filter:"blur(5px)"}}),o.createElement("div",{style:{backgroundColor:"rgba(40, 37, 37, 1)",opacity:"0.3",width:"105px",height:"19px",left:"481px",top:"8px",position:"absolute",transform:"skewX(50deg)",filter:"blur(5px)"}})),o.createElement("div",{style:{backgroundImage:"url(https://rmmhpcnrqakmcbvlcerx.supabase.co/storage/v1/object/sign/doc_uploads/920c01fb-b57c-4517-a9bd-14591cb14145/3dd7da4e-02fa-4485-aa88-478dc51b41a5?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1cmwiOiJkb2NfdXBsb2Fkcy85MjBjMDFmYi1iNTdjLTQ1MTctYTliZC0xNDU5MWNiMTQxNDUvM2RkN2RhNGUtMDJmYS00NDg1LWFhODgtNDc4ZGM1MWI0MWE1IiwiaWF0IjoxNzQxNDEyMDk4LCJleHAiOjMzMTgyMTIwOTh9.lf1N24qUhMhOTBJYbC7HvgE9OiPykIw3quqHow8sBQo)",backgroundSize:"cover",backgroundPosition:"center",width:"305px",height:"169px",left:"142px",top:"209px",position:"absolute"}}),o.createElement("div",{style:{backgroundColor:"rgba(199, 174, 121, 1)",width:"140px",height:"445px",left:"0px",top:"-75px",position:"absolute",transform:"skewY(-27deg) scaleX(1)"}},o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/DV32ZhtLF7AAAAAC/sunset-sea.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"83px",height:"83px",left:"34px",top:"222px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/cuJtfi_fR1AAAAAi/open-fenster.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"99px",height:"110px",left:"21px",top:"199px",position:"absolute"}})),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/w1BzPdKY2_sAAAAi/manidhaya.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"96px",height:"166px",left:"36.21580372877804px",top:"-25.900648891607347px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/2f3vrmeHoE4AAAAi/fridge.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"136px",height:"214px",left:"452.86350031687596px",top:"143.76642811874854px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/JBNC7IW_-1sAAAAi/groupgreeting-stickers-gg-stickers.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"99px",height:"123px",left:"169px",top:"105px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/29mROjd-PXoAAAAi/moontrip.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"94px",height:"122px",left:"367px",top:"102px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/OOH12fSHuREAAAAi/plant-plants.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"104px",height:"142px",left:"527.46330227795px",top:"333.0761355603127px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/OOH12fSHuREAAAAi/plant-plants.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"104px",height:"142px",left:"12.297678445192027px",top:"288px",position:"absolute"}}),o.createElement("div",{style:{backgroundImage:"url(https://media.tenor.com/Cvo4AhntshAAAAAi/sabrina-carpenter-lights.gif)",backgroundSize:"cover",backgroundPosition:"center",width:"144px",height:"150px",left:"228.78159423979906px",top:"-51.094934787072994px",position:"absolute"}}),o.createElement("video",{ref:t,width:"900",playsInline:!0,muted:!0,preload:"metadata",onLoadedData:()=>{console.log("Video loaded data event triggered"),"undefined"!=typeof window&&document.dispatchEvent(new Event("videoLoaded"))},onProgress:()=>{console.log("Video progress event triggered"),"undefined"!=typeof window&&document.dispatchEvent(new Event("videoLoaded"))},onLoadedMetadata:()=>{console.log("Video metadata loaded"),"undefined"!=typeof window&&document.dispatchEvent(new Event("videoLoaded"))},onCanPlay:()=>console.log("Video can play event triggered"),onError:e=>console.error("Video loading error:",e),src:n,style:{width:"600px",height:"350px",left:"0",top:"80px",position:"absolute"}}))},s={width:"100%",height:"100vh"};var d=()=>{const[e,t]=o.useState(!1);o.useEffect((()=>{t(!0)}),[]);const n=o.useRef(null),[r,d]=o.useState(!1),[l,u]=o.useState(!1),p=o.useRef(""),g=o.useRef(!1),h=o.useRef(!1);o.useEffect((()=>{const e=()=>{d(!0)};if("undefined"!=typeof window)return document.addEventListener("videoLoaded",e),()=>{document.removeEventListener("videoLoaded",e)}}),[]),o.useEffect((()=>{if(!l||!n.current)return;console.log("Setting up video time-based event handlers");const e=()=>{var e;if("undefined"!=typeof window&&window.navigator.userAgent.includes("iPhone")&&window.navigator.userAgent.includes("Safari"))return;const t=(null===(e=n.current)||void 0===e?void 0:e.currentTime)||0;if(t>=14.5&&t<15&&!g.current){var o;console.log("Triggering name prompt at time:",t),null===(o=n.current)||void 0===o||o.pause(),g.current=!0;const e=window.prompt("What's your name?","");console.log("User entered name:",e||"(empty)"),p.current=e||"",n.current&&n.current.play()}var i;(t>=17&&t<17.5&&console.log("Name speech time"),t>=17&&t<17.5&&""!==p.current&&!h.current)&&(console.log("Triggering name speech at time:",t),h.current=!0,null===(i=n.current)||void 0===i||i.pause(),((e,t)=>{if(!window.speechSynthesis)return console.log("Speech synthesis not available"),void t();try{window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(e);n.onend=()=>{console.log("Speech synthesis completed"),t()},n.onerror=e=>{console.error("Speech synthesis error:",e),t()},setTimeout((()=>{window.speechSynthesis.speak(n),setTimeout((()=>{window.speechSynthesis.speaking&&(console.log("Speech synthesis safety timeout triggered"),t())}),5e3)}),100)}catch(n){console.error("Speech synthesis exception:",n),t()}})(p.current,(()=>{console.log("Speech completed or failed, resuming video"),n.current&&n.current.play()})))},t=n.current;return t.addEventListener("timeupdate",e),()=>{console.log("Cleaning up video time-based event handlers"),t.removeEventListener("timeupdate",e)}}),[l,n,p]);return e?o.createElement("main",{style:s},o.createElement(i,{childWidth:574,childHeight:445,style:{width:"100%",height:"100%"}},o.createElement("div",{style:{position:"relative",width:"100%",height:"100%"}},o.createElement(c,{videoRef:n}),!l&&o.createElement(a,{isLoading:!r,onStart:()=>{n.current&&(n.current.muted=!1,n.current.currentTime=0,n.current.play(),u(!0))}})))):o.createElement("main",{style:{...s,backgroundColor:"black"}})};const l=()=>o.createElement("title",null,"Exclusive Lounge")}}]);
//# sourceMappingURL=component---src-pages-lounge-tsx-bc78c270cfca5b91b010.js.map